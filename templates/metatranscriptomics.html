{% extends "base.html" %}
{% block title %}Metatranscriptomics - {% endblock %}
{% block nav-meta %}active{% endblock %}
{% load widget_extras %}

{% block header %}
<style type="text/css">
.form-inline
{
    margin-bottom: -10px;
}
.form-inline .form-group
{
    display:block!important;
}
.form-inline label
{   
    width: 25%;
}
</style>
{% endblock %}


{% block content %}
  {% include "messages.html" with messages=messages %}
  <h1>Metatranscriptomics</h1>
  <p>Please, select files to be analysed, specify conditions per pair and give the reference condition.</p>
  <p>Note, that the entries in the table where chosen and grouped automatically - since both R1 and R2 reads are required,
  the system looks for pairs of samples comprised of samples with similar filenames, which differ only by _R1_ and _R2_ fragments in these names
    (please, notice underscores <code>_</code> before and after read identifier).</p>
  <form name="metatranscriptomics-form" method="post">
    {% csrf_token %}
    <div class="form-inline">
        <div class="form-group">
          {{ form.reference_condition.errors }}
          {{ form.reference_condition.label_tag }}
          {{ form.reference_condition|add_class:"form-control" }}
        </div>
    </div>
    <div class="form-group">
      {{ form.selected_files.errors }}
      {{ form.selected_files.label_tag }}
      {{ form.selected_files }}
    </div>
    <div class="form-group">
      <input class="btn btn-primary btn-lg" type="submit" value="Run analysis">
    </div>
  </form>
  <script type="text/javascript">
  function stopPropagation(e)
  {
    var event = e || window.event;

    if(event.stopPropagation)
    {
      event.stopPropagation()
    }
    else
    {
      event.cancelBubble=true
    }
  }
  </script>
{% endblock %}
